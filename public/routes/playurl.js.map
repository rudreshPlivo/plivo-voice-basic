{"version":3,"sources":["../../src/routes/playurl.js"],"names":["plivo","router","express","Router","post","req","res","next","console","log","response","Response","speakBody","playBody","addPlay","toXML","type","send","error"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;IAAYA,K;;;;;;AAEZ,IAAMC,SAASC,kBAAQC,MAAR,EAAf;;AAEAF,OAAOG,IAAP,CAAY,GAAZ,EAAgB,UAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAiB;AAC7BC,YAAQC,GAAR;AACA,QAAIC,WAAWV,MAAMW,QAAN,EAAf;AACA,QAAIC,8DAAJ;AACA,QAAIC,4DAAJ;AACA;AACAH,aAASI,OAAT,CAAiBD,QAAjB;AACAL,YAAQC,GAAR;AACAD,YAAQC,GAAR,CAAYC,SAASK,KAAT,EAAZ;AACA,QAAI;AACAT,YAAIU,IAAJ,CAAS,iBAAT;AACAV,YAAIW,IAAJ,CAASP,SAASK,KAAT,EAAT;AACH,KAHD,CAGE,OAAOG,KAAP,EAAc;AACZV,gBAAQC,GAAR,mDAA4DS,KAA5D;AACAX,aAAKW,KAAL;AACH;AACJ,CAhBD;;kBAkBejB,M","file":"playurl.js","sourcesContent":["import express from \"express\";\nimport env from \"./../config/env\";\nimport * as plivo from \"plivo\";\n\nconst router = express.Router();\n\nrouter.post('/',(req,res,next)=> {\n    console.log(`xml request called`);\n    var response = plivo.Response();\n    var speakBody = `This call will be terminated in next few seconds`;\n    var playBody = `https://s3.amazonaws.com/plivocloud/Trumpet.mp3`;\n    //response.addSpeak(speakBody);\n    response.addPlay(playBody);\n    console.log(`response XML ready`);\n    console.log(response.toXML());\n    try {\n        res.type('application/xml');\n        res.send(response.toXML());\n    } catch (error) {\n        console.log(`something went wrong with answer url error - ${error}`);\n        next(error);\n    }\n});\n\nexport default router;"]}